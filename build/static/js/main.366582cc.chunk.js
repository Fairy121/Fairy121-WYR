(this.webpackJsonpwould_you_rather=this.webpackJsonpwould_you_rather||[]).push([[0],{20:function(e,t,a){e.exports=a(44)},25:function(e,t,a){},26:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),l=a(19),o=a.n(l),n=(a(25),a(26),a(3)),r=a(4),i=a(6),m=a(7),d=a(2),g=a.n(d),h=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).showModal=function(){"hidden"===c.state.class&&c.setState({class:"show"})},c.hideModal=function(){"show"===c.state.class&&c.setState({class:"hidden"})},c.showPreview=function(e){var t=e.target.value;switch(e.target.dataset.name){case"i1":c.setState({previewLeft:t});break;case"i2":c.setState({previewRight:t});break;case"user":c.setState({username:t});break;case"title":c.setState({title:t})}},c.changeCol=function(e){c.state.colors.forEach((function(t){if(console.log(e.target),e.target.dataset.col===t.name){c.setState({selected:{left:t.col01,right:t.col02}});var a=t.name;c.state.class_name;c.setState({activeCol:t}),"rb"===a?c.setState({class_rb:"isActive",class_bg:"",class_gb:""}):"bg"===a?c.setState({class_bg:"isActive",class_rb:"",class_gb:""}):"gb"===a&&c.setState({class_gb:"isActive",class_rb:"",class_bg:""})}}))},c.createGame=function(e){e.preventDefault();var t=c.state,a=t.activeCol,s=t.previewLeft,l=t.previewRight,o=t.username,n=t.title,r="",i={left:s,right:l},m={left:a.col01,right:a.col02};r=0===o.length?"anonymous":o,console.log(r),g.a.post("/post/createPost",{username:r,post:i,color:m,votes:{left:0,right:0},title:n}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response.data.msg)})),c.hideModal()},c.state={class:"hidden",username:"",previewLeft:"",previewRight:"",title:"",colors:[{name:"rb",col01:" #fc3d03",col02:"#4359e8"},{name:"bg",col01:"#141413",col02:"#ffcb6b"},{name:"gb",col01:"#6ad4a9",col02:"#44b0eb"}],selected:{left:" #fc3d03",right:"#4359e8"},class_rb:"isActive",class_bg:"",class_gb:"",activeCol:{name:"rb",col01:"#f5574c",col02:"#4c68f5"}},c}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"create-game-container"},s.a.createElement("div",{onClick:this.showModal,className:"create-game-card"},s.a.createElement("p",{className:"create-text"},"create your own game")),s.a.createElement("div",{className:"create-game-body ".concat(this.state.class)},s.a.createElement("form",{className:"create-game-form "},s.a.createElement("div",{onChange:this.showPreview,className:"form-inner"},s.a.createElement("input",{type:"text","data-name":"user",id:"username",placeholder:"choose a fun username"}),s.a.createElement("input",{type:"text",id:"game-title","data-name":"title",placeholder:"choose a title"}),s.a.createElement("input",{type:"text","data-name":"i1",id:"first-topic",name:"topic-01",placeholder:"first topic "}),s.a.createElement("input",{"data-name":"i2",type:"text",id:"second-topic",name:"topic-02",placeholder:"second topic"}))),s.a.createElement("div",{className:"game-selection"},s.a.createElement("i",{onClick:this.hideModal,"data-name":"exit",className:" exit far fa-times-circle"}),s.a.createElement("p",{className:"choose-col"},"Choose a color combination"),s.a.createElement("div",{onClick:this.changeCol,className:"color-selection"},s.a.createElement("div",{"data-col":"rb",className:"color-split  ".concat(this.state.class_rb),type:"none"},s.a.createElement("div",{"data-col":"rb",className:"red-col"}),s.a.createElement("div",{"data-col":"rb",className:"blue-col"})),s.a.createElement("div",{"data-col":"bg",className:"color-split ".concat(this.state.class_bg),type:"none"},s.a.createElement("div",{"data-col":"bg",className:"dark-col"}),s.a.createElement("div",{"data-col":"bg",className:"gold-col"})),s.a.createElement("div",{"data-col":"gb",className:"color-split ".concat(this.state.class_gb),type:"none"},s.a.createElement("div",{"data-col":"gb",className:"green-col"}),s.a.createElement("div",{"data-col":"gb",className:"lblue-col"}))),s.a.createElement("div",{className:"game-preview"},s.a.createElement("div",{style:{background:this.state.selected.left},className:"prev-left"},this.state.previewLeft),s.a.createElement("div",{style:{background:this.state.selected.right},className:"prev-right"},this.state.previewRight))),s.a.createElement("button",{onClick:this.createGame,className:"create-btn"},"SUBMIT")))}}]),a}(c.Component),u=a(5),v=a(8);a(18);function f(e){var t=Object(c.useState)(!1),a=Object(v.a)(t,2),l=(a[0],a[1],Object(c.useState)(!1)),o=Object(v.a)(l,2),n=(o[0],o[1]);function r(t){console.log(t.target);var a,c,s=t.target.dataset.id;"right"===t.target.dataset.side?(a=e.voteLeft,c=e.voteRight+1,n(!0)):(a=e.voteLeft+1,c=e.voteRight);var l={left:a,right:c};g.a.put("/post/updateVote",{id:s,votes:l}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))}return s.a.createElement("div",{className:"game-card"},s.a.createElement("nav",{className:"game-card-nav"},s.a.createElement("p",{className:"card-title"},e.title),s.a.createElement("p",{className:"creator"},"created by ",e.username)),s.a.createElement("div",{className:"game-body"},s.a.createElement("div",{style:{background:e.leftCol},className:"left-side"},s.a.createElement("h1",null,e.left),s.a.createElement("div",{"data-side":"left","data-votes":e.voteLeft,style:{background:e.leftCol},"data-id":e.id,onClick:r,className:"vote-count count-right"},s.a.createElement("p",{className:"vote"},e.voteLeft))),s.a.createElement("div",{style:{background:e.rightCol},className:"right-side"}," ",s.a.createElement("h1",null,e.right),s.a.createElement("div",{"data-side":"right","data-votes":e.voteRight,"data-id":e.id,style:{background:e.rightCol},onClick:r,className:"vote-count count-left"},s.a.createElement("p",{className:"vote"},e.voteRight)))))}var p=a(18),b=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).getPosts=function(){var e=Object(u.a)(c);g.a.get("/post/getPosts").then((function(t){console.log(t),e.setState({loaded:!0,posts:t.data})})).catch((function(e){console.log(e)}))},c.state={posts:[],loaded:!1},c}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"render",value:function(){console.log(this.state);var e,t,a=this.state.posts;return console.log(a),s.a.createElement("div",{className:"games-list"},this.state.loaded?a.map((function(a){return console.log(a),e=p(a.votes.left),t=p(a.votes.right),s.a.createElement(f,{key:a._id,username:a.username,left:a.post.left,leftCol:a.color.left,rightCol:a.color.right,right:a.post.right,voteLeft:e,voteRight:t,id:a._id,title:a.title})})):null)}}]),a}(c.Component);var E=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"site-title"},"Would you Rather?"),s.a.createElement(h,null),s.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.366582cc.chunk.js.map